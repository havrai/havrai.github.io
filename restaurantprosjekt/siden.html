<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <title>Anmeldelser</title>
    <style>
        @import url(//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css);

        * {
            margin: 0;
        }

        a {
            text-decoration: none;
        }

        /* body */

        body {
            min-height: 100vh;
            display: grid;
            grid-template-rows: auto 1fr auto;
            background-color: #eee;
            font-family: sans-serif;
        }

        body > header > nav {
            display: grid;
            grid-template-columns: 1fr;
            text-align: right;
            font-size: 25px;
            text-decoration: none;
            padding: 5px 20px 10px 1px;
            font-family: "Times New Roman", Helvetica, Thonburi,sans-serif;
        }

        h1 {
            font-size: 35px;
            color: white;
            text-align: left;
            filter: drop-shadow(0 3px 2px);
            padding: 25px 10px 5px 20px;
        }

        /* main delt i to */
        main {
            display: grid;
            background-color: white;
            grid-template-columns: 1fr 1fr;
            grid-gap: 10px;
        }


        main > section {
            background-color: transparent;
        }

        main > #skjema > button {
            padding: 10px;
            background-color: gray;
            display: table-cell;
            color: white;
        }

        #layout > img {
            width: 100%;
            
        }

        #anmeldelser {
            padding-bottom: 20px;
            position: inherit;
            font-size: 20px;

        }

        #taAnmeldelse {
            width: 100%;
            height: 300px;
            margin-bottom: 40px;
            text-align: left;
            box-sizing: border-box;
            font-size: 16px;
        }

        #inpRestaurant {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            box-sizing: border-box;
        }

        #inpNavn {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            box-sizing: border-box;
        }

        #inpBilde {
            display: none;
        }

        label.upload {
            padding: 10px;
            background-color: gray;
            display: table-cell;
            color: white;
        }



        /* meny */
        header {
            padding-top: 20px;
            padding-bottom: 20px;
            padding-left: 10px;
            background-color: burlywood;
            border: double;
            display: grid;
            grid-template-columns: 1fr auto auto auto auto;
            align-items: center;

        }

        header > img {
            display: inline-block;
            padding-left: 25px;
            padding-bottom: 12px;
        }

        header > a {
            float: right;
            display: block;
            color: black;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;

        }

        header > .active {
            background-color: grey;
            color: white;
        }

        header > input {
            float: right;
            padding: 6px;
            border: none;
            margin-top: 8px;
            margin-right: 8px;
            font-size: 17px;
        }


        #skjema {
            display: grid;
            grid-template-columns: 1fr;
            grid-gap: 15px;
            align-items: center;
        }


        /* Stjernerangering*/
        .rating {
            border: none;
            display: table-cell;
        }

        .rating > input { display: none; }
        .rating > label:before {
            margin: 5px;
            font-size: 1.25em;
            font-family: FontAwesome, "Times New Roman";
            display: inline-block;
            content: "\f005";
        }

        .rating > .half:before {
            content: "\f089";
            position: absolute;
        }

        .rating > label {
            color: #ddd;
            float: right;
        }

        /***** CSS Magic to Highlight Stars on Hover *****/

        .rating > input:checked ~ label, /* show gold star when clicked */
        .rating:not(:checked) > label:hover, /* hover current star */
        .rating:not(:checked) > label:hover ~ label { color: #FFD700;  } /* hover previous stars in list */

        .rating > input:checked + label:hover, /* hover current star when changing rating */
        .rating > input:checked ~ label:hover,
        .rating > label:hover ~ input:checked ~ label, /* lighten current selection */
        .rating > input:checked ~ label:hover ~ label { color: #FFED85;  }


        /* footer*/

        #contact{
            background-color:#f1f1f1;
            font-family: 'Roboto', sans-serif;
        }

        #contact .well{
            margin-top:30px;
            border-radius:0;
        }

        #contact .form-control{
            border-radius: 0;
            border:2px solid #1e1e1e;
        }

        #contact button{
            border-radius:0;
            border:2px solid #1e1e1e;
        }

        #contact .row{
            margin-bottom:30px;
        }

        h3 {
            text-align: center;
        }

        @media (max-width: 768px) {
            #contact iframe {
                margin-bottom: 15px;
            }

        }

        @media (max-width: 1000px) {
            main {
                grid-template-columns: 1fr;

            }
            header {
                grid-template-columns: 1fr;
            }
        }


    </style>

</head>
<body>


    <header>

        <div>
            <img src="wik.png">
        </div>
            <a href="kategorier.html">Kategorier</a>
            <a class="active" href="Bli%20med.html">Bli med</a>
            <a href="restauranter.html">VÃ¥re restauranter</a>
    </header>

    <main>
        <section id="layout">
            <img src="design.png">
        </section>
        <section id="anmeldelser">
            <div>Skriv anmeldelse:</div>

            <form id="skjema">
                <input type="text" placeholder="Navn" required id="inpNavn">
                <input type="text" placeholder="Restaurant" required id="inpRestaurant">
                <textarea id="taAnmeldelse" placeholder="Max 300 ord..."></textarea>

                <div>
                    <label class="upload" for="inpBilde">Last opp bilde</label>
                    <input type="file" id="inpBilde">

                    <fieldset class="rating">
                        <input type="radio" id="star5" name="rating" value="5" /><label class = "full" for="star5" title="Awesome - 5 stars"></label>
                        <input type="radio" id="star4half" name="rating" value="4.5" /><label class="half" for="star4half" title="Pretty good - 4.5 stars"></label>
                        <input type="radio" id="star4" name="rating" value="4" /><label class = "full" for="star4" title="Pretty good - 4 stars"></label>
                        <input type="radio" id="star3half" name="rating" value="3.5" /><label class="half" for="star3half" title="Meh - 3.5 stars"></label>
                        <input type="radio" id="star3" name="rating" value="3" checked/><label class = "full" for="star3" title="Meh - 3 stars"></label>
                        <input type="radio" id="star2half" name="rating" value="2.5" /><label class="half" for="star2half" title="Kinda bad - 2.5 stars"></label>
                        <input type="radio" id="star2" name="rating" value="2" /><label class = "full" for="star2" title="Kinda bad - 2 stars"></label>
                        <input type="radio" id="star1half" name="rating" value="1.5" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label>
                        <input type="radio" id="star1" name="rating" value="1" /><label class = "full" for="star1" title="Sucks big time - 1 star"></label>
                        <input type="radio" id="starhalf" name="rating" value="0.5" /><label class="half" for="starhalf" title="Sucks big time - 0.5 stars"></label>
                    </fieldset>
                </div>
                <button type="submit">Lagre anmeldelse</button>
            </form>
        </section>
    </main>

    <section id="contact">
        <div class="container">
            <div class="well well-sm">
                <h3><b>Kontakt oss</b></h3>
            </div>

            <div class="row">
                <div class="col-md-7">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d3736489.7218514383!2d90.21589792292741!3d23.857125486636733!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sbd!4v1506502314230" width="100%" height="315" frameborder="0" style="border:0" allowfullscreen></iframe>
                </div>

                <div class="col-md-5">
                    <h4>Ta kontakt</h4>
                    <form>
                        <div class="form-group">
                            <input type="text" class="form-control" name="" value="" placeholder="Navn">
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control" name="" value="" placeholder="E-post">
                        </div>
                        <div class="form-group">
                            <input type="tel" class="form-control" name="" value="" placeholder="Telefon">
                        </div>
                        <div class="form-group">
                            <textarea class="form-control" name="" rows="3" placeholder="Melding"></textarea>
                        </div>
                        <button class="btn btn-default" type="submit" name="button">
                            <i class="fa fa-paper-plane-o" aria-hidden="true"></i> Send
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>



    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
    <script>
    // Initialize Firebase
    const config = {
        apiKey: "AIzaSyBk6RywVg5N3lFf9Tbo_zz8hKJkBKzx8mk",
        authDomain: "prosjekt2018.firebaseapp.com",
        databaseURL: "https://prosjekt2018.firebaseio.com",
        projectId: "prosjekt2018",
        storageBucket: "prosjekt2018.appspot.com",
        messagingSenderId: "756843613828"
    };
    firebase.initializeApp(config);
    </script>

    <script>
        const db = firebase.database();
        const anmeldelser = db.ref("anmeldelser");

        const skjema = document.getElementById("skjema");
        const taAnmeldelse = document.getElementById("taAnmeldelse");
        const inpBilde = document.getElementById("inpBilde");
        const inpNavn = document.getElementById("inpNavn");
        const inpRestaurant = document.getElementById("inpRestaurant");
        const inpStar = document.getElementById("inpStar");


        function settRating() {
            const valgtStjerne = document.querySelector("input[name=rating]:checked");
            const poeng = Number(valgtStjerne.value);

            console.log(poeng);
        }


        function lagreAnmeldelse(evt) {
            evt.preventDefault();

            const valgtStjerne = document.querySelector("input[name=rating]:checked");
            const poeng = Number(valgtStjerne.value);

            anmeldelser.push({
                anmelder: inpNavn.value,
                tekst: taAnmeldelse.value,
                restaurant: inpRestaurant,
                stjernekast: poeng
            });
            skjema.reset();
        }



        skjema.onsubmit = lagreAnmeldelse;
    </script>


</body>
</html>